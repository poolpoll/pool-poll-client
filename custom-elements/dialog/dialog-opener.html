<dom-module id="dialog-opener">
	<template>
		<paper-dialog id="dialog" modal>
		</paper-dialog>
	</template>
	<script>
		Polymer({
			is: 'dialog-opener',
			
			properties: {
				openCallback: {
					type: Function
				},

				closeCallback: {
					type: Function
				}
			},

			listeners: {
				'dialog.iron-overlay-opened': 'dialogOpened',
				'dialog.iron-overlay-closed': 'dialogClosed'
			},

			openDialog: function(content, openCallback, closeCallback) {
				this.openCallback = openCallback;
				this.closeCallback = closeCallback;
				this.content = content;
				var container = this.$['dialog'];
				container.appendChild(this.content);
				this.$['dialog'].open();
			},

			dialogOpened: function() {
				if(this.openCallback) this.openCallback();
			},

			dialogClosed: function() {
				if(this.closeCallback) this.closeCallback();

				var container = this.$['dialog'];
				container.removeChild(this.content);
			}
		})
	</script>
</dom-module>