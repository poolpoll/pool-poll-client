<script src="../../../bower_components/page/page.js"></script>

<script>
	page('/', function() {
		page('/main');
	});

	page('/main', function() {
		app.route = 'main';
	});

	page('/sign_in', function() {
		app.route = 'sign_in';
	});

	page('/sign_up', function() {
		app.route = 'sign_up';
	})

	page('/new_poll', function() {
		app.route = 'new_poll';
	});

	page('/my_polls', function() {
		app.route = 'my_polls';
	});

	page('/poll_charts/:pollId', function(ctx) {
		app.pollId = ctx.params.pollId;
		app.route = 'poll_charts';
	});

	page('/polls', function() {
		app.route = 'polls';
	});

	page('/polls/join/:pollId', function(ctx) {
		app.route = 'poll_join';

		document.dispatchEvent(new CustomEvent('poll-join-routed', {
			detail: {
				pollId: ctx.params.pollId
			}
		}));
	});

	page('/profile', function() {
		app.route = 'profile';
	});

	page({
		hashbang: true
	})

</script>
